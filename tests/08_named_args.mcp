// Test named arguments for call_tool
// The "add" tool has parameters "a" and "b" (alphabetical)

// 1. Pure named arguments (out of order)
call_tool add b:10 a:20
assert_contains "Result: 30"

// 2. Mixed: positional first, then named
call_tool add 5 b:37
assert_contains "Result: 42"

// 3. Mixed: named first, then positional
call_tool add a:100 50
assert_contains "Result: 150"

// 4. Multiple named arguments and one positional
call_tool add b:1000 500
assert_contains "Result: 1500"

// 5. Verification with echo tool (message is the only param)
// Now we can use the natural key:"value" syntax thanks to the improved tokenizer
call_tool echo message:"Hello Named Args"
assert_contains "Echo: Hello Named Args"
