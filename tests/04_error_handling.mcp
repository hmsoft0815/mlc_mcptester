// Test: Error Handling
// This script verifies that the tester correctly reports and handles server-side errors

// 1. Call a non-existing tool (should fail with specific error)
// mcp-tester handles this automatically and stops script execution unless 'allow_fail' is implemented
// For now, we demonstrate a successful call to the test-server's error trigger

echo "--- Testing standard error response ---"
call_tool error_trigger '{"code": 500, "message": "Simulated Server Error"}'
assert_contains "Simulated Server Error"

echo "--- Testing invalid arguments error ---"
// Passing a string to an integer parameter should be caught by the server's validation
call_tool add "not_a_number" 10
assert_contains "invalid"
